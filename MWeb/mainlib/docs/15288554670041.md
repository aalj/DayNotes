# 关于组件化架构的替换

### 当前项目存在的问题
1. 之前的项目结构业务模块化（就是把相关的业务整合放到一个包下面，用包来进行区分）， 这种结构虽然在业务上进行了分隔，但是在代码开发上存在一定的弊端，面对同一个功能的多个app实现就会出现非常复杂的版本管理问题，即同一个功能，相同的代码，需要维护多份代码。同时在某些模块上存在耦合严重的问题。
2. 在软件的架构上，现有的情况是在每个试图层同时需要兼顾多个角色，页面的展示，数据处理，以及数据的存储都是在这里进行的。导致在开发每个视图的时候每个Activity代码，阅读维护的时候都极其复杂。

### 解决方案
1. 在项目架构上可以使用组件化，即把项目结构分为三层，App层，业务层，基础服务层。
    1. App层：这层只是涉及到对业务层的调度，不会涉及到业务相关内容
    2. 业务层：对每个业务进行单独的封装，个业务之前不存在联系，每个业务都能完全当成一个app来运行以及使用。
    3. 封装的所有的基础工具为上层提供支持，例如网络加载，图片加载，二维码，公用的自定义组件等工具。
2. 在软件架构上，采用MVP模式v（View）-p（Presenter）-m（model）。实现各层的分离，V M层不能直接进行通信，必须通过P层进行管理。
    1. V：视图层，只负责页面的展示，以及操作逻辑的处理。
    2. M：模型层，主要的负责各种数据处理，例如数据保存，网络请求，下载等操作
    3. P：（Presenter） 该层关联V层与M层，同时机型数据逻辑处理
    4. 采用MVP模式优点在于，各层之间各司其职，由于采用的是接口编程各层之间耦合不会特别严重。便于维护，同时在协同开发的时候可以进行分层开发。

    
### 组件化存在最大的瓶颈
1. 各业务模块通信的问题，由于各个模块之前不可能存在依赖关系，说明各模块之间是不能进行相互调用的。所以各模块通信就是组件化瓶颈存在的问题。
2. 数据通信：在组件化中采用结合EvenBus实现事件总线解决数据通信的问题。
3. 页面调度：采用的是页面路由的方式进行调度。

